<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Spinderella Test</title>
    <script src="./spinderella.js" type="text/javascript"></script>
  </head>
  <body>
    <div id='index'>
    </div>
    <script type="text/javascript">
      window.onload = function () {    
        // Setup TCP Socket
        spinderella = Spinderella.create("localhost", {websocket: 42342, base: 42340});
        spinderella.onMessage(function(c) {
          console.log("Received Message w/ data: " + c);
          eval(c);
        });
        spinderella.connect();
      }
      
      function checkSubscription() {
        var channels = document.getElementById("channels").value.split(",");
        console.log("Subscribing to " + channels.length + " channels: " + channels.toString());
        spinderella.client.subscribe(channels);
      }
      
    </script>
    
    Subscribe to:
    <input type="text" name="channels" id="channels" />
    <input type="submit" value="Subscribe" onclick='checkSubscription(); return false;'/>
    
  </body>
</html>
