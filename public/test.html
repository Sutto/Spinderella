<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <script> document.domain = document.domain; </script>
    <title>Test</title>
    <script src="http://localhost:8000/static/Orbited.js" type="text/javascript"></script>
    <script src="./spinderella-min.js" type="text/javascript"></script>
  </head>
  <body>
    <div id='index'>
    </div>
    <script type="text/javascript">
      window.onload = function () {
        // Orbited.settings.port     = 8000;
        // Orbited.settings.hostname = "localhost";
        TCPSocket = Orbited.TCPSocket;
        // Setup TCP Socket
        spinderella = new Spinderella.Orbited("localhost");
        spinderella.onMessage(function(c) {
          console.log("Received Message");
          eval(c);
        });
        spinderella.connect();
      }
      
      function checkSubscription() {
        var channels = document.getElementById("channels").value.split(",");
        console.log("Subscribing to " + channels.length + " channels, =" + channels.toString());
        spinderella.client.subscribe(channels);
      }
      
    </script>
    
    Subscribe to:
    <input type="text" name="channels" id="channels" />
    <input type="submit" value="Subscribe" onclick='checkSubscription(); return false;'/>
    
  </body>
</html>
